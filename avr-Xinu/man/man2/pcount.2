.\"Modified from man(1) of FreeBSD, the NetBSD mdoc.template, and mdoc.samples.
.\"See Also:
.\"man mdoc.samples for a complete listing of options
.\"man mdoc for the short list of editing options
.\"/usr/share/misc/mdoc.template
.ds release-date February 8, 2011
.ds xinu-platform avr-Xinu
.\"
.Os XINU V7
.Dd \*[release-date] 
.Dt PCOUNT \&2 \*[xinu-platform]
.Sh NAME
pcount \- return the number of messages currently waiting at a port
.Sh SYNOPSIS
.nf
.Em int pcount(portid)
.Em int portid;
.fi
.Sh DESCRIPTION
.Ar Pcount
returns the message count associated with port
.Ar portid.
.Pp
A positive count p means that there are p messages available
for processing. This count includes the count of messages explicitly in 
the port and the count of the number of processes which attempted
to send messages to the queue but are blocked (because the 
queue is full). A negative count p means that there are
p processes awaiting messages from the port.
A zero count means that there are neither messages waiting nor
processes waiting to consume messages.
.Sh SEE ALSO
pcreate(2), pdelete(2), preceive(2), preset(2), psend(2)
.Sh BUGS
In this version there is no way to distinguish SYSERR (which
has value \-1) from a legal port count.
