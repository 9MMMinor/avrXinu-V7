%!PS-Adobe-3.0
%%Creator: groff version 1.19.2
%%CreationDate: Tue Jan 10 11:54:51 2012
%%DocumentNeededResources: font Times-Bold
%%+ font Courier-Bold
%%+ font Times-Roman
%%+ font Courier-Oblique
%%+ font Symbol
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.19 2
%%Pages: 4
%%PageOrder: Ascend
%%DocumentMedia: Default 595 842 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 2
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 595 842 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Bold
%%IncludeResource: font Courier-Bold
%%IncludeResource: font Times-Roman
%%IncludeResource: font Courier-Oblique
%%IncludeResource: font Symbol
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 841.89 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron
/Zcaron/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Courier-Oblique@0 ENC0/Courier-Oblique RE
/Times-Roman@0 ENC0/Times-Roman RE/Courier-Bold@0 ENC0/Courier-Bold RE
/Times-Bold@0 ENC0/Times-Bold RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Bold@0 SF -.2(NA)72 36 S(ME).2 E/F1 10/Courier-Bold@0 SF
(1-Wire)102 48 Q/F2 10/Times-Roman@0 SF 2.5<8a31>2.5 G(-W)-2.5 E
(ire Netw)-.4 E(ork Softw)-.1 E(are)-.1 E F0(SYNOPSIS)72 72 Q F1
(#include <avr-Xinu.h>)102 84 Q(#include <DS2482.h>)102 96 Q
(#include <twi.h>)102 108 Q F2(The follo)102 126 Q
(wing operations are used to set up and con\214gure the DS2482.)-.25 E
(Some of these operations are called)5 E(as subroutines by the 1-W)102
138 Q(ire operations.)-.4 E/F3 10/Courier-Oblique@0 SF(int)102 156 Q F1
(DS2482_detect)102 168 Q F2(\()A F3(unsigned char addr)A F2(\);)A F3
(int)102 186 Q F1(DS2482_reset)102 198 Q F2(\()A F3(void)A F2(\);)A F3
(int)102 216 Q F1(DS2482_write_config)102 228 Q F2(\()A F3
(unsigned char config)A F2(\);)A F3(unsigned char)102 246 Q F1
(DS2482_search_triplet)102 258 Q F2(\()A F3(int search_direction)A F2
(\);)A(1-W)102 276 Q(ire Application Programming Interf)-.4 E
(ace \(API\))-.1 E F3(int)102 294 Q F1(OWReset)102 306 Q F2(\()A F3
(void)A F2(\);)A F3(void)102 324 Q F1(OWWriteByte)102 336 Q F2(\()A F3
(unsigned char sendbyte)A F2(\);)A F3(unsigned char)102 354 Q F1
(OWReadByte)102 366 Q F2(\()A F3(void)A F2(\);)A F3(unsigned char)102
384 Q F1(OWTouchByte)102 396 Q F2(\()A F3(unsigned char sendbyte)A F2
(\);)A F3(unsigned char)102 414 Q F1(OWTouchBit)102 426 Q F2(\()A F3
(unsigned char sendbit)A F2(\);)A F3(void)102 444 Q F1(OWWriteBit)102
456 Q F2(\()A F3(unsigned char sendbit)A F2(\);)A F3(unsigned char)102
474 Q F1(OWReadBit)102 486 Q F2(\()A F3(void)A F2(\);)A F3(void)102 504
Q F1(OWBlock)102 516 Q F2(\()A F3(unsigned char)A/F4 10/Symbol SF(*)6 E
F3(tran_buf)A F2(,)1.666 E F3(int tran_len)4.166 E F2(\);)A F3(int)102
534 Q F1(OWFirst)102 546 Q F2(\()A F3(void)A F2(\);)A F3(int)102 564 Q
F1(OWNext)102 576 Q F2(\()A F3(void)A F2(\);)A F3(int)102 594 Q F1
(OWVerify)102 606 Q F2(\()A F3(void)A F2(\);)A F3(void)102 624 Q F1
(OWTargetSetup)102 636 Q F2(\()A F3(unsigned char family_code)A F2(\);)A
F3(void)102 654 Q F1(OWFamilySkipSetup)102 666 Q F2(\()A F3(void)A F2
(\);)A F3(int)102 684 Q F1(OWSearch)102 696 Q F2(\()A F3(void)A F2(\);)A
(XINU V7)72 750 Q(January 10, 2012)159.99 E(1)194.7 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(1-W)72 48 Q -.834(ire \(4\))-.4 F -.2(av)174.904
G -.2(r-).2 G 172.404(Xinu 1-W).2 F -.834(ire \(4\))-.4 F(Extended 1-W)
102 96 Q(ire functions)-.4 E/F1 10/Courier-Oblique@0 SF(int)102 114 Q/F2
10/Courier-Bold@0 SF(OWSpeed)102 126 Q F0(\()A F1(int new_speed)A F0
(\);)A F1(int)102 144 Q F2(OWLevel)102 156 Q F0(\()A F1(int level)A F0
(\);)A F1(int)102 174 Q F2(OWWriteBytePower)102 186 Q F0(\()A F1
(int sendbyte)A F0(\);)A F1(int)102 204 Q F2(OWReadBitPower)102 216 Q F0
(\()A F1(int applyPowerResponse)A F0(\);)A/F3 10/Times-Bold@0 SF
(DESCRIPTION)72 240 Q F0 .662(The DS2482 is an I\302\262C to 1-W)102 252
R .662(ire bridge. The DS2482 allo)-.4 F .662(ws an a)-.25 F(vr)-.2 E
.663(-Xinu host to use the TWI/I\302\262C inter)-.2 F(-)-.2 E -.1(fa)102
264 S .506(ce to generate properly timed and sle).1 F .506
(w-controlled 1-W)-.25 F .506(ire w)-.4 F -2.25 -.2(av e)-.1 H .506
(forms. A 1-W).2 F .506(ire netw)-.4 F .506(ork consists of a sin-)-.1 F
.543(gle master and one or more sla)102 276 R .843 -.15(ve d)-.2 H -.25
(ev).15 G .543(ices. The softw).25 F .544
(are described here, implement a basic and e)-.1 F .544(xtended set)-.15
F .745(of 1-W)102 288 R .745(ire operations using the DS2482. F)-.4 F
(ollo)-.15 E .745(wing a reset on the 1-W)-.25 F .745(ire b)-.4 F .745
(us, all the sla)-.2 F 1.045 -.15(ve d)-.2 H -.25(ev).15 G .745
(ices are acti-).25 F -.25(va)102 300 S .68
(ted and ready to respond to the master).25 F 5.68(.T)-.55 G .68(he k)
-5.68 F .98 -.15(ey t)-.1 H 3.18(ot).15 G .68(he softw)-3.18 F .68
(are is that it must \214rst cause all b)-.1 F .68(ut a single)-.2 F
(sla)102 312 Q .972 -.15(ve d)-.2 H -.25(ev).15 G .672
(ice to enter an inacti).25 F .971 -.15(ve w)-.25 H .671
(ait state. Thereafter).05 F 3.171(,u)-.4 G .671(ntil the ne)-3.171 F
.671(xt reset, the master communicates with a)-.15 F(single sla)102 324
Q .3 -.15(ve d)-.2 H -.25(ev).15 G(ice.).25 E F1(DS2482_detect)102 342 Q
F0 .914(DS2428 detect routine that sets the I\302\262C address and then\
 performs a de)3.414 F .914(vice reset fol-)-.25 F(lo)102 354 Q
(wed by writing the con\214guration byte to def)-.25 E(ault v)-.1 E
(alues:)-.25 E(1-W)122 366 Q(ire speed \(c1WS\) = standard \(0\))-.4 E
(Strong pullup \(cSPU\) = of)122 378 Q 2.5(f\()-.25 G(0\))-2.5 E
(Presence pulse masking \(cPPM\) = of)122 390 Q 2.5(f\()-.25 G(0\))-2.5
E(Acti)122 402 Q .3 -.15(ve p)-.25 H
(ullup \(cAPU\) = on \(CONFIG_APU = 0x01\)).15 E .568(Returns TR)102 420
R .567(UE if de)-.4 F .567(vice w)-.25 F .567
(as detected and written or F)-.1 F .567(ALSE if de)-.74 F .567(vice w)
-.25 F .567(as not detected or the con\214guration)-.1 F .018
(byte could not be written.)102 432 R F1(DS2482_reset)5.018 E F0 .018
(Perform a de)2.518 F .018(vice reset on the DS2482.)-.25 F .018
(Returns TR)5.018 F .019(UE if de)-.4 F(vice)-.25 E -.1(wa)102 444 S 2.5
(sr).1 G(eset or F)-2.5 E(ALSE if de)-.74 E(vice w)-.25 E
(as not detected or f)-.1 E(ailed to reset.)-.1 E F1
(DS2482_write_config)102 462 Q F0 .911(Write the con\214guration re)
3.411 F .911(gister in the DS2482.)-.15 F .911
(The con\214guration options are)5.911 F(pro)102 474 Q .195
(vided in the lo)-.15 F .195(wer nibble of the pro)-.25 F .195
(vided con\214g byte.)-.15 F .196(The uppper nibble is bitwise in)5.195
F -.15(ve)-.4 G .196(rted when written).15 F .503(to the DS2482.)102 486
R .503(Returns TR)5.503 F .503
(UE when con\214g is written and the DS2482 response is correct or F)-.4
F .502(ALSE other)-.74 F(-)-.2 E(wise.)102 498 Q F1
(DS2482_search_triplet)102 516 Q F0 2.004
(Use the DS2482 help command '1-W)4.504 F 2.005
(ire triplet' to perform one bit of a)-.4 F(1-W)102 528 Q .297
(ire search.)-.4 F .297(This command does tw)5.297 F 2.797(or)-.1 G .296
(ead bits and one write bit.)-2.797 F .296
(The write bit is either the def)5.296 F .296(ault direc-)-.1 F .542
(tion \(all de)102 540 R .543(vice ha)-.25 F .843 -.15(ve s)-.2 H .543
(ame bit\) or in case of a discrepanc).15 F 1.843 -.65(y, t)-.15 H .543
(he ').65 F .543(search_direction' parameter is used. Returns)-.55 F
.184(the DS2482 status byte result from the triplet command.)102 552 R
.183(This function is called from O)5.184 F .183(WSearch\(\) and is not)
-.35 F(lik)102 564 Q(ely to be used otherwise.)-.1 E F1(OWReset)102 582
Q F0 .858(Reset all of the de)3.358 F .858(vices on the 1-W)-.25 F .858
(ire Net and return TR)-.4 F .859
(UE \(1\) if a presence pulse is detected;)-.4 F(return F)102 594 Q
(ALSE \(0\) otherwise.)-.74 E F1(OWWriteByte)102 612 Q F0
(Write a single byte to the 1-W)2.5 E(ire netw)-.4 E(ork.)-.1 E F1
(OWReadByte)102 630 Q F0(Return a single byte read from the 1-W)2.5 E
(ire netw)-.4 E(ork.)-.1 E F1(OWWriteBit)102 648 Q F0
(Send 1 bit of data to the 1-W)2.5 E(ire netw)-.4 E(ork.)-.1 E F1
(OWReadBit)102 666 Q F0(Return 1 bit of data from the 1-W)2.5 E
(ire netw)-.4 E(ork.)-.1 E F1(OWBlock)102 684 Q F0 .982(Sends and recei)
3.482 F -.15(ve)-.25 G 3.482(sm).15 G .982
(ultiple bytes of data from the 1-W)-3.482 F .982
(ire Net by alternately calling O)-.4 F(WRead-)-.35 E .375
(Byte\(\) or O)102 696 R 2.876(WWriteByte\(\). When)-.35 F 2.876(ab)
2.876 G .376(yte from tran_b)-2.876 F .376(uf is initialized to 0XFF)-.2
F 2.876(,t)-.8 G .376(hat byte is read and o)-2.876 F -.15(ve)-.15 G
(rwrit-).15 E(ten, otherwise the byte is written. tran_len bytes are re\
ad or written.)102 708 Q(XINU V7)72 756 Q(January 10, 2012)159.99 E(2)
194.7 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(1-W)72 48 Q -.834(ire \(4\))-.4 F -.2(av)174.904
G -.2(r-).2 G 172.404(Xinu 1-W).2 F -.834(ire \(4\))-.4 F/F1 10
/Courier-Oblique@0 SF(OWSearch)102 96 Q F0 .478(The 1-W)2.978 F .478
(ire search is used to disco)-.4 F -.15(ve)-.15 G 2.978(rt).15 G .478
(he 64-bit unique re)-2.978 F .477(gistration number of the de)-.15 F
.477(vices on a)-.25 F(1-W)102 108 Q .381(ire netw)-.4 F 2.881(ork. The)
-.1 F .381(unique re)2.881 F .382
(gistration number is often referred to as the R)-.15 F .382
(OM number in the 1-W)-.4 F .382(ire data)-.4 F .885
(sheets since it is in Read-Only Memory)102 120 R 3.385(.T)-.65 G .885
(he search be)-3.385 F .885(gins with a 1-W)-.15 F .885(ire reset follo)
-.4 F .885(wed by a search com-)-.25 F 3.438(mand. This)102 132 R .939
(function does a general search and continues from the pre)3.438 F .939
(vious search state.)-.25 F .939(The search state)5.939 F .106
(can be reset by using the O)102 144 R .106(WFirst\(\) function.)-.35 F
-.35(OW)5.106 G .106(Search\(\) returns TR).35 F .106
(UE \(1\) when a 1-W)-.4 F .106(ire de)-.4 F .105(vice is found;)-.25 F
1.273(the de)102 156 R 1.273
(vice\342s Serial Number is placed in the global R)-.25 F 3.774(OM. The)
-.4 F 1.274(function returns F)3.774 F 1.274(ALSE \(0\) when no ne)-.74
F(w)-.25 E(de)102 168 Q 1.156(vice is found; either the last search w)
-.25 F 1.156(as the last de)-.1 F 1.156(vice, or there are no de)-.25 F
1.155(vices on the 1-W)-.25 F 1.155(ire netw)-.4 F(ork.)-.1 E 1.093
(Note: If this function is re)102 180 R 1.093(written using the \214nd \
alarm command 0xEC instead of the normal search com-)-.25 F
(mand 0xF0, the search will be limited to only 1-W)102 192 Q(ire de)-.4
E(vices that are in an \342alarm\342 state.)-.25 E F1(OWVerify)102 210 Q
F0 -1.11(Ve)2.614 G .114(rify the de)1.11 F .114
(vice with the Serial Number in R)-.25 F .114(OM_NO b)-.4 F(uf)-.2 E
.114(fer is present.)-.25 F .113(Return TR)5.113 F .113(UE if de)-.4 F
(vice)-.25 E -.15(ve)102 222 S(ri\214ed present or F).15 E(ALSE if de)
-.74 E(vice not present.)-.25 E F1(OWTargetSetup)102 240 Q F0 .212
(Setup the search to \214nd the de)2.712 F .213(vice type f)-.25 F .213
(amily_code on the ne)-.1 F .213(xt call to O)-.15 F(WNe)-.35 E .213
(xt\(\) if it is)-.15 F 3.872(present. Note:)102 252 R 1.371(If no de)
3.872 F 1.371(vices of the desired f)-.25 F 1.371
(amily are currently on the 1-W)-.1 F 1.371
(ire, then another type will be)-.4 F 1.516(found, so the f)102 264 R
1.516(amily code in the resulting R)-.1 F 1.516(OM_NO must be v)-.4 F
1.517(eri\214ed after the search. See EXAMPLES)-.15 F(belo)102 276 Q
-.65(w.)-.25 G F1(OWFamilySkipSetup)102 294 Q F0
(Setup the search to skip the current de)2.5 E(vice type on the ne)-.25
E(xt call to O)-.15 E(WNe)-.35 E(xt\(\).)-.15 E F1(OWSpeed)102 312 Q F0
3.707(Set the 1-W)6.207 F 3.706(ire Netw)-.4 F 3.706
(ork communication speed. ne)-.1 F 3.706(w_speed is the ne)-.25 F 6.206
(ws)-.25 G 3.706(peed de\214ned as)-6.206 F(MODE_ST)102 324 Q(AND)-.93 E
(ARD \(0x00\) or MODE_O)-.4 E(VERDRIVE \(0x01\). Returns)-.5 E
(the current 1-W)5 E(ire Netw)-.4 E(ork speed.)-.1 E F1(OWLevel)102 342
Q F0 1.016(Set the 1-W)3.516 F 1.016(ire Netw)-.4 F 1.016(ork line le)
-.1 F -.15(ve)-.25 G 3.516(lp).15 G 1.016(ull-up to normal.)-3.516 F
1.016(The DS2482 only allo)6.016 F 1.016(ws enabling strong)-.25 F .787
(pull-up on a bit or byte e)102 354 R -.15(ve)-.25 G 3.287
(nt. Consequently).15 F .787(this function only allo)3.287 F .787
(ws the MODE_ST)-.25 F(AND)-.93 E .787(ARD ar)-.4 F(gument.)-.18 E 3.705
-.8(To e)102 366 T 2.106(nable strong pull-up use O).8 F(WWriteBytePo)
-.35 E 2.106(wer\(\) or O)-.25 F(WReadBitPo)-.35 E 4.606(wer\(\). ne)
-.25 F(w_le)-.25 E -.15(ve)-.25 G 4.606(li).15 G 4.606(st)-4.606 G 2.106
(he ne)-4.606 F 4.606(wl)-.25 G -2.15 -.25(ev e)-4.606 H(l).25 E
(de\214ned as MODE_ST)102 378 Q(AND)-.93 E(ARD \(0x00\).)-.4 E
(Returns the current 1-W)5 E(ire Netw)-.4 E(ork le)-.1 E -.15(ve)-.25 G
(l.).15 E F1(OWWriteBytePower)102 396 Q F0 .347(Immediately con\214gure\
 the DS2482 to strong pullup \(DS2482_CONFIG_SPU\), then)2.847 F .246
(send the least signi\214cant 8 bits of ar)102 408 R .246
(gument sendbyte to the 1-W)-.18 F .246(ire Netw)-.4 F 2.746
(ork. Returns)-.1 F -.74(FA)2.746 G .246(LSE if the DS2482).74 F -.1(wa)
102 420 S 2.5(su).1 G(nable to be con\214gured, otherwise TR)-2.5 E(UE.)
-.4 E F1(OWReadBitPower)102 438 Q F0 1.68(Immediately con\214gure the D\
S2482 to strong pullup \(DS2482_CONFIG_SPU\), then)4.18 F .238
(read a single bit response from the 1-W)102 450 R .238(ire Netw)-.4 F
2.738(ork. If)-.1 F .239(the response is not equal to the ar)2.738 F
.239(gument, applyPo)-.18 F(w-)-.25 E(erResponse, set pull up le)102 462
Q -.15(ve)-.25 G(ls to MODE_ST).15 E(AND)-.93 E(ARD and return F)-.4 E
(ALSE else return TR)-.74 E(UE.)-.4 E/F2 10/Times-Bold@0 SF(EXAMPLES)72
486 Q F0(The follo)102 498 Q(wing \214nds all of the de)-.25 E
(vices on the 1-W)-.25 E(ire netw)-.4 E(ork:)-.1 E/F3 10/Courier@0 SF
(#include "twi.h")102 516 Q(#include "DS2482.h")102 528 Q
(void main\(void\))102 552 Q({)102 564 Q(int rslt;)147 576 Q(int cnt=0;)
147 588 Q(twi_init\(\);)147 612 Q
(// verify DS2482 is present on default address \(0x30\))147 636 Q
(if \(!DS2482_detect\(0x30\)\))147 648 Q({)147 660 Q
(printf\("Failed to find and setup DS2482\\n"\);)192 672 Q(return;)192
684 Q(})147 696 Q F0(XINU V7)72 756 Q(January 10, 2012)159.99 E(3)194.7
E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(1-W)72 48 Q -.834(ire \(4\))-.4 F -.2(av)174.904
G -.2(r-).2 G 172.404(Xinu 1-W).2 F -.834(ire \(4\))-.4 F/F1 10
/Courier@0 SF(printf\("\\nFIND ALL\\n"\);)147 96 Q
(for \(cnt = 0, rslt = OWFirst\(\); rslt; rslt = OWNext\(\)\))147 120 Q
({)147 132 Q(// print device found)192 144 Q(for \(i = 7; i >= 0; i--\))
192 156 Q(printf\("%02X", ROM_NO[i]\);)237 168 Q 6
(printf\(" %d\\n",++cnt\);)192 180 R(})147 192 Q(})102 204 Q F0 1.54
(The follo)102 222 R 1.54(wing e)-.25 F 1.54(xample is a w)-.15 F 1.54
(orkaround for the bizarre nature of O)-.1 F(WT)-.35 E(ar)-.8 E 1.54
(getSetup\(\) and O)-.18 F(WNe)-.35 E 1.54(xt\(\) when)-.15 F
(searching for 1-W)102 234 Q(ire de)-.4 E(vices of a speci\214c type.)
-.25 E F1(uint8_t OWFirstType\(unsigned char type\))102 252 Q({)102 264
Q(uint8_t ret;)126 276 Q(OWTargetSetup\(type\);)126 300 Q
(ret = OWNext\(\);)126 312 Q(// check for incorrect type)126 324 Q
(if \(ROM_NO[0] != type\))126 336 Q(return FALSE;)150 348 Q(return ret;)
126 360 Q(})102 372 Q(uint8_t OWNextType\(unsigned char type\))102 396 Q
({)102 408 Q(uint8_t ret;)126 420 Q(ret = OWNext\(\);)126 444 Q
(// check for incorrect type)126 456 Q(if \(ROM_NO[0] != type\))126 468
Q(return FALSE;)150 480 Q(return ret;)126 492 Q(})102 504 Q/F2 10
/Times-Bold@0 SF 1.666(SEE ALSO)72 528 R F1(twi)102 540 Q F0(\(4\))A F2
-.1(BU)72 564 S(GS).1 E F0 -.35(OW)102 576 S .463(Search should ha).35 F
.763 -.15(ve a)-.2 H 2.963(nA).15 G .463(larm ar)-2.963 F .463
(gument, set to YES or NO, in order to search 1-W)-.18 F .463(ire de)-.4
F .464(vices that are in)-.25 F(an 'alarm' state.)102 588 Q F2 -.5(AU)72
612 S(THORS).5 E F0 1.03(MAXIM Application Note 3684, Dec 17, 2008.)102
624 R 1.03(Adapted and modi\214ed for a)6.03 F(vr)-.2 E 1.03
(-Xinu, Michael Minor)-.2 F 3.53(,J)-.4 G(an-)-3.53 E(uary 4, 2012.)102
636 Q(XINU V7)72 750 Q(January 10, 2012)159.99 E(4)194.7 E 0 Cg EP
%%Trailer
end
%%EOF
